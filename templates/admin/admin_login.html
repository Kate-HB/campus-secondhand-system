<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>管理员登录 - 湖工大二手</title>
  <link rel="stylesheet" href="/static/css/style.css">
  <style>
    body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; display:flex;align-items:center;justify-content:center;min-height:100vh; }
    .card { max-width:400px; width:90%; }
  </style>
</head>
<body>
<div class="container">
  <h1 class="system-title">后台管理</h1>
  <div class="card">
  <h2>管理员登录</h2>
  <input type="text" id="account" placeholder="管理员账号" required>
  <input type="password" id="password" placeholder="密码" required>
  <button onclick="adminLogin()">登录</button>
</div>
</div>

<script>
async function adminLogin() {
  const account = document.getElementById('account').value.trim();
  const password = document.getElementById('password').value;

  if (!account || !password) {
    alert('请输入账号和密码');
    return;
  }

  try {
    const res = await fetch('/admin/login', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({account: account, password: password})
    });
    const d = await res.json();
    alert(d.msg);

    if (d.code === 200) {
      location.href = '/admin/dashboard';  // 成功后跳转后台看板
    }
  } catch (err) {
    alert('网络错误，请刷新重试');
  }
}
</script>
</body>
</html>